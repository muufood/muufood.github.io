(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1107:function(t,e,n){"use strict";var r=n(899);n.n(r).a},1108:function(t,e,n){(t.exports=n(707)(!1)).push([t.i,"button i[data-v-df55bdd8]{color:#e0e0e0;font-size:28px;line-height:24px}button:hover i[data-v-df55bdd8],button:focus i[data-v-df55bdd8]{color:#4f4f4f}\n",""])},1109:function(t,e,n){"use strict";var r=n(900);n.n(r).a},1110:function(t,e,n){(t.exports=n(707)(!1)).push([t.i,"\n.sidebar-submenu[data-v-434a10d2] {\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  -webkit-transform: translateX(-100%);\n      -ms-transform: translateX(-100%);\n          transform: translateX(-100%);\n}\n.subcategory-item[data-v-434a10d2] {\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n}\n",""])},1111:function(t,e,n){"use strict";var r=n(901);n.n(r).a},1112:function(t,e,n){(t.exports=n(707)(!1)).push([t.i,".fade-enter-active[data-v-1425d2b2]{-webkit-transition:opacity .25s;-o-transition:opacity .25s;transition:opacity .25s}.fade-leave-active[data-v-1425d2b2]{-webkit-transition:opacity .2s;-o-transition:opacity .2s;transition:opacity .2s}.fade-enter[data-v-1425d2b2],.fade-leave-to[data-v-1425d2b2]{opacity:0}.fade-in-down-enter-active[data-v-1425d2b2],.fade-in-up-enter-active[data-v-1425d2b2]{-webkit-transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);-o-transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);transition:all .25s cubic-bezier(0.4, 0, 0.2, 1)}.fade-in-down-leave-active[data-v-1425d2b2],.fade-in-up-leave-active[data-v-1425d2b2]{-webkit-transition:all .2s cubic-bezier(0.4, 0, 1, 1);-o-transition:all .2s cubic-bezier(0.4, 0, 1, 1);transition:all .2s cubic-bezier(0.4, 0, 1, 1)}.fade-in-down-enter[data-v-1425d2b2],.fade-in-down-leave-to[data-v-1425d2b2],.fade-in-up-enter[data-v-1425d2b2],.fade-in-up-leave-to[data-v-1425d2b2]{opacity:0}.fade-in-down-enter[data-v-1425d2b2],.fade-in-down-leave-to[data-v-1425d2b2]{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.fade-in-up-enter[data-v-1425d2b2],.fade-in-up-leave-to[data-v-1425d2b2]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.sidebar-menu[data-v-1425d2b2]{height:100vh;width:350px;overflow:hidden}@media (max-width: 767px){.sidebar-menu[data-v-1425d2b2]{width:100vh}}.sidebar-menu__container[data-v-1425d2b2]{overflow-y:auto;-webkit-overflow-scrolling:touch;height:calc(100% - 55px)}.sidebar-menu__list[data-v-1425d2b2]{-webkit-transition:-webkit-transform .25s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform .25s cubic-bezier(0.4, 0, 0.2, 1);-o-transition:transform .25s cubic-bezier(0.4, 0, 0.2, 1);transition:transform .25s cubic-bezier(0.4, 0, 0.2, 1);transition:transform .25s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform .25s cubic-bezier(0.4, 0, 0.2, 1)}.sidebar-menu ul[data-v-1425d2b2]{list-style-type:none}.sidebar-menu li[data-v-1425d2b2]:hover,.sidebar-menu li[data-v-1425d2b2]:focus{background-color:#e0e0e0}.sidebar-menu li.bg-cl-primary[data-v-1425d2b2]:hover,.sidebar-menu li.bg-cl-primary[data-v-1425d2b2]:focus{background-color:#f2f2f2}.sidebar-menu li a[data-v-1425d2b2]{color:#333}.sidebar-menu .subcategory-item[data-v-1425d2b2]{display:-ms-flexbox;display:flex;width:100%}.sidebar-menu button[data-v-1425d2b2]{color:#333}.sidebar-menu button a[data-v-1425d2b2]{color:#333}.sidebar-menu .close-btn i[data-v-1425d2b2]{color:#e0e0e0}.sidebar-menu .close-btn:hover i[data-v-1425d2b2],.sidebar-menu .close-btn:focus i[data-v-1425d2b2]{color:#4f4f4f}\n",""])},1197:function(t,e,n){"use strict";n.r(e);var r=n(158),a=n(10),i=n(719),s=n(928),o=n(0);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={name:"SidebarMenu",mixins:[i.a,s.a],computed:u(u(u({},Object(r.c)("category-next",["getMenuCategories"])),{},{getCategories:function(){return this.getMenuCategories},categories:function(){return this.getCategories.filter((function(t){return t.level===(o.entities.category.categoriesDynamicPrefetchLevel>=0?o.entities.category.categoriesDynamicPrefetchLevel:2)}))}},Object(r.e)({isOpen:function(t){return t.ui.sidebar}})),{},{compareIsActive:function(){return!this.isEmpty}}),created:function(){},methods:{onEscapePress:function(){this.closeMenu()},closeMenu:function(){this.$store.commit("ui/setSidebar",!1),this.$store.commit("ui/setMicrocart",!1)}}};function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={name:"SubBtn",props:{id:{type:null,default:""},type:{type:String,default:"next"},name:{type:String,default:""},isCategory:{type:Boolean,default:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.e)({submenu:function(t){return t.ui.submenu}})),methods:{next:function(){o.entities.category.categoriesDynamicPrefetch&&this.isCategory&&this.$store.dispatch("category-next/fetchMenuCategories",{parent:this.id}),this.$store.commit("ui/setSubmenu",{id:this.id,depth:++this.submenu.depth})},back:function(){this.$store.commit("ui/setSubmenu",{depth:--this.submenu.depth})}}},m=(n(1107),n(170)),y=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"next"===t.type?n("button",{staticClass:"inline-flex between-xs w-100 px25 py20 pr15 serif cl-accent",attrs:{type:"button","aria-label":t.$t("Show subcategories"),"data-testid":"categoryButton"},on:{click:function(e){return e.stopPropagation(),t.next()}}},[t._v("\n  "+t._s(t.name)+"\n  "),n("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_right")])]):n("button",{staticClass:"inline-flex p15 between-xs",attrs:{type:"button","aria-label":t.$t("Back")},on:{click:function(e){return e.stopPropagation(),t.back()}}},[t._v("\n  "+t._s(t.name)+"\n  "),n("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_left")])])}),[],!1,null,"df55bdd8",null).exports,g=n(39);function h(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,a)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={name:"SubCategory",components:{SubBtn:y},props:{id:{type:[String,Number],required:!0},categoryLinks:{type:null,required:!1,default:!1},parentSlug:{type:String,required:!1,default:""},parentPath:{type:String,required:!1,default:""},myAccountLinks:{type:null,required:!1,default:!1}},computed:w(w({children:function(){var t=this;return!o.entities.category.categoriesDynamicPrefetch&&this.categoryLinks&&this.categoryLinks.length>0&&this.categoryLinks[0].name?this.categoryLinks:this.$store.getters["category-next/getMenuCategories"].filter((function(e){return e.parent_id===t.id}))},hasChildren:function(){return this.children&&this.children.length}},Object(r.e)({submenu:function(t){return t.ui.submenu},path:function(t){return t.ui.submenu.path}})),{},{getSubmenu:function(){return this.submenu},styles:function(){var t=this.submenu.path.indexOf(this.id);return-1!==t&&{zIndex:t+1}},isCurrentMenuShowed:function(){return this.getSubmenu&&this.getSubmenu.depth&&this.getSubmenu.path[this.getSubmenu.depth-1]===this.id}}),methods:{logout:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout",{});case 2:e.$router.push(e.localizedRoute("/")),e.$store.commit("ui/setSubmenu",{depth:!1});case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){h(i,r,a,s,o,"next",t)}function o(t){h(i,r,a,s,o,"throw",t)}s(void 0)}))})()},notify:function(t){"My loyalty card"!==t&&"My product reviews"!==t||this.$store.dispatch("notification/spawnNotification",{type:"warning",message:a.a.t("This feature is not implemented yet! Please take a look at https://github.com/DivanteLtd/vue-storefront/issues for our Roadmap!"),action1:{label:a.a.t("OK")}})},categoryLink:function(t){return Object(g.a)(t)}}},k=(n(1109),Object(m.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.children?n("ul",{staticClass:"sidebar-submenu absolute w-100 p0 bg-cl-primary",style:t.styles},[t.parentSlug?n("li",{staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex"},[n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:t.categoryLink({url_path:t.parentPath,slug:t.parentSlug}),"data-testid":"categoryLink"}},[t._v("\n        "+t._s(t.$t("View all"))+"\n      ")])],1):t._e(),t._v(" "),t._l(t.children,(function(e){return n("li",{key:e.slug,staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex"},[t.isCurrentMenuShowed?n("div",{staticClass:"subcategory-item"},[e.children_count>0?n("sub-btn",{staticClass:"bg-cl-transparent brdr-none fs-medium",attrs:{id:e.id,name:e.name}}):n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:t.categoryLink(e)}},[t._v("\n          "+t._s(e.name)+"\n        ")])],1):t._e(),t._v(" "),e.children_count>0?n("sub-category",{attrs:{"category-links":e.children_data,id:e.id,"parent-slug":e.slug,"parent-path":e.url_path}}):t._e()],1)}))],2):t._e(),t._v(" "),t.myAccountLinks&&!t.hasChildren?n("ul",{staticClass:"sidebar-submenu absolute w-100 p0 bg-cl-primary",style:t.styles},[t._l(t.myAccountLinks,(function(e){return n("li",{key:e.id,staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex",on:{click:function(n){return t.notify(e.name)}}},[n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:t.localizedRoute(e.url)}},[t._v("\n        "+t._s(e.name)+"\n      ")])],1)})),t._v(" "),n("li",{staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex"},[n("a",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("\n        "+t._s(t.$t("Logout"))+"\n      ")])])],2):t._e()])}),[],!1,null,"434a10d2",null).exports),x=n(727);function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P={components:{SubCategory:k,SubBtn:y},mixins:[d],data:function(){return{myAccountLinks:[{id:1,name:a.a.t("My profile"),url:"/my-account"},{id:2,name:a.a.t("My shipping details"),url:"/my-account/shipping-details"},{id:3,name:a.a.t("My newsletter"),url:"/my-account/newsletter"},{id:4,name:a.a.t("My orders"),url:"/my-account/orders"},{id:5,name:a.a.t("My loyalty card"),url:"#"},{id:6,name:a.a.t("My product reviews"),url:"#"}],componentLoaded:!1}},computed:j(j({mainListStyles:function(){return!!this.submenu.depth&&"transform: translateX(".concat(100*this.submenu.depth,"%)")}},Object(r.e)({submenu:function(t){return t.ui.submenu},currentUser:function(t){return t.user.current}})),{},{getSubmenu:function(){return this.submenu},visibleCategories:function(){return this.categories.filter((function(t){return t.product_count>0||t.children_count>0}))},isCurrentMenuShowed:function(){return!this.getSubmenu||!this.getSubmenu.depth}}),mounted:function(){var t=this;this.$nextTick((function(){t.componentLoaded=!0,Object(x.disableBodyScroll)(t.$refs.container)}))},destroyed:function(){Object(x.clearAllBodyScrollLocks)()},methods:{login:function(){var t=this;!this.currentUser&&this.isCurrentMenuShowed&&this.$nextTick((function(){t.$store.commit("ui/setAuthElem","login"),t.$bus.$emit("modal-show","modal-signup"),t.$router.push({name:"my-account"})}))},categoryLink:function(t){return Object(g.a)(t)}}},M=(n(1111),Object(m.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar-menu fixed mw-100 bg-cl-secondary"},[n("div",{staticClass:"row brdr-bottom-1 brdr-cl-bg-secondary"},[t.submenu.depth?n("div",{staticClass:"col-xs bg-cl-primary"},[n("sub-btn",{staticClass:"bg-cl-transparent brdr-none",attrs:{type:"back"}})],1):t._e(),t._v(" "),n("div",{staticClass:"col-xs bg-cl-primary"},[n("button",{staticClass:"w-100 inline-flex end-xs bg-cl-transparent brdr-none p0 close-btn",attrs:{type:"button","aria-label":t.$t("Close")},on:{click:t.closeMenu}},[n("i",{staticClass:"material-icons p15"},[t._v("close")])])])]),t._v(" "),n("div",{ref:"container",staticClass:"sidebar-menu__container row"},[n("div",{staticClass:"col-xs-12 h4 serif"},[n("ul",{staticClass:"p0 m0 relative sidebar-menu__list",style:t.mainListStyles},[n("li",{staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary",on:{click:t.closeMenu}},[n("router-link",{staticClass:"block px25 py20 cl-accent no-underline",attrs:{to:t.localizedRoute("/"),exact:""}},[t._v("\n            "+t._s(t.$t("Home"))+"\n          ")])],1),t._v(" "),t._l(t.visibleCategories,(function(e){return n("li",{key:e.slug,staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex",on:{click:t.closeMenu}},[t.isCurrentMenuShowed?n("div",{staticClass:"subcategory-item"},[e.children_count>0?n("sub-btn",{staticClass:"bg-cl-transparent brdr-none fs-medium",attrs:{id:e.id,name:e.name}}):n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:t.categoryLink(e)}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1):t._e(),t._v(" "),n("sub-category",{attrs:{"category-links":e.children_data,id:e.id,"parent-slug":e.slug,"parent-path":e.url_path}})],1)})),t._v(" "),t.isCurrentMenuShowed?n("li",{staticClass:"bg-cl-secondary",on:{click:t.closeMenu}},[n("router-link",{staticClass:"block px25 py20 brdr-bottom-1 brdr-cl-secondary cl-accent no-underline fs-medium-small",attrs:{to:t.localizedRoute("/sale"),exact:""}},[t._v("\n            "+t._s(t.$t("Sale"))+"\n          ")])],1):t._e(),t._v(" "),t.isCurrentMenuShowed?n("li",{staticClass:"bg-cl-secondary",on:{click:t.closeMenu}},[n("router-link",{staticClass:"block px25 py20 brdr-bottom-1 brdr-cl-secondary cl-accent no-underline fs-medium-small",attrs:{to:t.localizedRoute("/magazine"),exact:""}},[t._v("\n            "+t._s(t.$t("Magazine"))+"\n          ")])],1):t._e(),t._v(" "),t.compareIsActive&&t.isCurrentMenuShowed?n("li",{staticClass:"bg-cl-secondary",on:{click:t.closeMenu}},[n("router-link",{staticClass:"block px25 py20 brdr-bottom-1 brdr-cl-secondary cl-accent no-underline fs-medium-small",attrs:{to:t.localizedRoute("/compare"),exact:""}},[t._v("\n            "+t._s(t.$t("Compare products"))+"\n          ")])],1):t._e(),t._v(" "),n("li",{staticClass:"brdr-bottom-1 brdr-cl-secondary bg-cl-secondary flex",on:{click:t.login}},[t.currentUser?n("sub-btn",{staticClass:"bg-cl-transparent brdr-none fs-medium-small",attrs:{id:"my-account-links","is-category":!1,name:t.$t("My account")}}):t._e(),t._v(" "),t.currentUser?n("sub-category",{attrs:{"my-account-links":t.myAccountLinks,id:"my-account-links"},nativeOn:{click:function(e){return t.closeMenu(e)}}}):t._e(),t._v(" "),!t.currentUser&&t.isCurrentMenuShowed?n("a",{staticClass:"block w-100 px25 py20 cl-accent no-underline fs-medium-small",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeMenu(e)}}},[t._v("\n            "+t._s(t.$t("My account"))+"\n          ")]):t._e()],1)],2)])])])}),[],!1,null,"1425d2b2",null));e.default=M.exports},899:function(t,e,n){var r=n(1108);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(708).default)("6efced17",r,!0,{})},900:function(t,e,n){var r=n(1110);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(708).default)("52954753",r,!0,{})},901:function(t,e,n){var r=n(1112);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(708).default)("e797b0be",r,!0,{})}}]);
//# sourceMappingURL=vsf-sidebar-menu.f3da57918614f1219b7d.js.map