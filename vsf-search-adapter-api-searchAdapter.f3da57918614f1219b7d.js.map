{"version":3,"sources":["webpack:///vsf-search-adapter-api-searchAdapter.da3b4837d892c5ed626a.js"],"names":["window","push","702","module","__webpack_exports__","__webpack_require__","r","d","SearchAdapter","lodash_es_map__WEBPACK_IMPORTED_MODULE_0__","storefront_query_builder__WEBPACK_IMPORTED_MODULE_1__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_2__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_2___default","n","_vue_storefront_core_helpers__WEBPACK_IMPORTED_MODULE_3__","query_string__WEBPACK_IMPORTED_MODULE_4__","query_string__WEBPACK_IMPORTED_MODULE_4___default","_vue_storefront_core_lib_multistore__WEBPACK_IMPORTED_MODULE_5__","config__WEBPACK_IMPORTED_MODULE_6__","_vue_storefront_core_helpers_getApiEndpointUrl__WEBPACK_IMPORTED_MODULE_7__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","v","op","TypeError","call","pop","length","entities","initBaseTypes","prototype","search","Request","ElasticsearchQueryBody","bodybuilder_1","storeView","_a","url","httpQuery","_b","type","Error","searchQuery","bind","buildQueryBodyFromSearchQuery","config","queryChain","default","getSearchText","elasticsearch","min_score","hasOwnProperty","groupId","groupToken","store","Object","index","size","from","sort","_sourceExclude","_source_exclude","join","_sourceInclude","_source_include","q","queryMethod","request","JSON","stringify","encodeURIComponent","a","method","mode","headers","Accept","Content-Type","resp","json","catch","error","toString","handleResult","start","items","hits","hit","assign","_source","_score","slug","products","useMagentoUrlKeys","url_key","name","id","total","perPage","aggregations","attributeMetadata","attribute_metadata","suggestions","suggest","isErrorObject","code","registerEntityType","entityType","_c","url_ssr","queryProcessor","resultProcessor","_this","query","749","_arrayMap","_baseIteratee","_baseEach","isArrayLike","_baseMap","collection","iteratee","Array","key","isArray"],"mappings":"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","file":"vsf-search-adapter-api-searchAdapter.f3da57918614f1219b7d.js","sourceRoot":""}